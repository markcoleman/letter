<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate DOGE Letters with Hidden Address Fields</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts for modern typography -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
  <style>
    /* Global Styles */
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: #f2f4f8;
      color: #333;
      line-height: 1.6;
    }
    a {
      color: #3498db;
      text-decoration: none;
    }
    /* Hero Section */
    .hero {
      background: url('https://source.unsplash.com/1600x900/?technology,office') no-repeat center center/cover;
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
    }
    .hero h1 {
      font-size: 3rem;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 20px;
      border-radius: 5px;
    }
    /* Container for content */
    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 8px;
    }
    /* Form Styles */
    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }
    form label {
      display: block;
      font-weight: 500;
      margin-bottom: 5px;
    }
    form input[type="text"],
    form input[type="email"],
    form input[type="date"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
      box-sizing: border-box;
      transition: border-color 0.3s ease;
    }
    form input[type="text"]:focus,
    form input[type="email"]:focus,
    form input[type="date"]:focus {
      border-color: #3498db;
      outline: none;
    }
    form .full-width {
      grid-column: 1 / -1;
    }
    form button {
      background-color: #3498db;
      color: #fff;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    form button:hover {
      background-color: #2980b9;
    }
    /* Print Button Styles */
    #printButton {
      background-color: #2ecc71;
      color: #fff;
      padding: 12px 20px;
      border: none;
      border-radius: 4px;
      font-size: 1rem;
      cursor: pointer;
      margin-bottom: 20px;
      transition: background-color 0.3s ease;
    }
    #printButton:hover {
      background-color: #27ae60;
    }
    /* Letter Styles */
    .letter {
      margin-bottom: 40px;
      padding: 30px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #fafafa;
    }
    .letter h2 {
      margin-top: 0;
      color: #2c3e50;
    }
    .letter p, .letter ul {
      margin: 15px 0;
    }
    .letter ul {
      list-style: disc;
      margin-left: 20px;
    }
    /* Ensure each letter prints on its own page */
    @media print {
      .letter {
        page-break-after: always;
      }
      #printButton, #infoForm, .hero {
        display: none;
      }
      body {
        background: #fff;
      }
    }
  </style>
</head>
<body>

  <!-- Hero Section -->
  <div class="hero">
    <h1>Generate DOGE Letters</h1>
  </div>

  <!-- Main Content Container -->
  <div class="container">
    <form id="infoForm">
      <div class="full-width">
        <label for="yourName">Your Name:</label>
        <input type="text" id="yourName" required>
      </div>
      <div class="full-width">
        <label for="streetAddress">Street Address:</label>
        <!-- Visible field that uses Google Places autocomplete -->
        <input type="text" id="streetAddress" placeholder="Start typing your street address" required>
      </div>
      <!-- Hidden fields for individual address components -->
      <input type="hidden" id="streetNumber">
      <input type="hidden" id="route">
      <input type="hidden" id="city">
      <input type="hidden" id="state">
      <input type="hidden" id="zip">
      <div>
        <label for="yourEmail">Your Email:</label>
        <input type="email" id="yourEmail" required>
      </div>
      <div>
        <label for="yourPhone">Your Phone Number:</label>
        <input type="text" id="yourPhone" required>
      </div>
      <div class="full-width">
        <label for="yourDate">Date:</label>
        <!-- Date input now defaults to today's date -->
        <input type="date" id="yourDate" required>
      </div>
      <div class="full-width" style="text-align: center;">
        <button type="button" onclick="generateLetters()">Generate Letters</button>
      </div>
    </form>

    <!-- Button to print the letters -->
    <div style="text-align: center;">
      <button id="printButton" type="button" onclick="window.print()">Print Letters</button>
    </div>

    <!-- Container for the generated letters -->
    <div id="lettersContainer"></div>
  </div>

  <!-- Load the config file containing the API key -->
  <script src="config.js"></script>
  <!-- Dynamically load the Google Places API using the API key from config.js -->
  <script>
    function loadGoogleMapsAPI() {
      const script = document.createElement('script');
      script.src = "https://maps.googleapis.com/maps/api/js?key=" + GOOGLE_API_KEY + "&libraries=places&callback=initAutocomplete";
      script.async = true;
      script.defer = true;
      document.head.appendChild(script);
    }
    loadGoogleMapsAPI();
  </script>

  <!-- JavaScript for initializing autocomplete and generating letters -->
  <script>
    // Initialize Google Places Autocomplete for the street address field.
    function initAutocomplete() {
      const streetAddressInput = document.getElementById('streetAddress');
      const autocomplete = new google.maps.places.Autocomplete(streetAddressInput, {
        types: ['address'],
        componentRestrictions: { country: 'us' }
      });
      
      autocomplete.addListener('place_changed', function() {
        const place = autocomplete.getPlace();
        let streetNumber = '';
        let route = '';
        let city = '';
        let state = '';
        let zip = '';

        // Loop through the address components returned by the API.
        for (const component of place.address_components) {
          const types = component.types;
          if (types.indexOf('street_number') > -1) {
            streetNumber = component.long_name;
          }
          if (types.indexOf('route') > -1) {
            route = component.long_name;
          }
          if (types.indexOf('locality') > -1) {
            city = component.long_name;
          }
          if (types.indexOf('administrative_area_level_1') > -1) {
            state = component.short_name;
          }
          if (types.indexOf('postal_code') > -1) {
            zip = component.long_name;
          }
        }
        // Store the values in the hidden input fields.
        document.getElementById('streetNumber').value = streetNumber;
        document.getElementById('route').value = route;
        document.getElementById('city').value = city;
        document.getElementById('state').value = state;
        document.getElementById('zip').value = zip;
      });
    }

    // Set default date to today
    window.addEventListener('DOMContentLoaded', () => {
      const today = new Date().toISOString().substr(0, 10);
      document.getElementById('yourDate').value = today;
    });

    function generateLetters() {
      // Retrieve form values.
      const name = document.getElementById('yourName').value;
      const streetAddress = document.getElementById('streetAddress').value;
      // Get individual address components from hidden fields.
      const streetNumber = document.getElementById('streetNumber').value;
      const route = document.getElementById('route').value;
      const city = document.getElementById('city').value;
      const state = document.getElementById('state').value;
      const zip = document.getElementById('zip').value;
      const email = document.getElementById('yourEmail').value;
      const phone = document.getElementById('yourPhone').value;
      const date = document.getElementById('yourDate').value;
      
      // Combine the hidden address fields into a formatted full address.
      let fullStreet = (streetNumber && route) ? `${streetNumber} ${route}` : streetAddress;
      const fullAddress = `${fullStreet}<br>${city}, ${state} ${zip}`;
      
      // Common letter body text.
      const commonLetterBody = `
      <p>
        I am writing as a concerned constituent regarding the Department of Government Efficiency (DOGE). Although DOGE was established by executive order with the aims of reducing wasteful spending, eliminating unnecessary regulations, and "modernizing federal technology and software to maximize governmental efficiency and productivity," it now appears to be run chaotically without regard to established process. This mismanagement is causing significant disruptions.
      </p>
      <p>My concerns include:</p>
      <ul>
        <li><strong>Lack of Process and Oversight:</strong> The disorganized management of DOGE risks undermining its stated mission. Rather than streamlining government functions, its chaotic operation may lead to significant service disruptions.</li>
        <li><strong>Impact on Essential Services:</strong> Without clear processes and accountability, mismanagement could jeopardize the delivery of critical government services and public safety.</li>
        <li><strong>Need for Transparent Oversight:</strong> It is imperative that any effort to reform government operations be executed with full transparency and strict adherence to process.</li>
      </ul>
      <p>
        I respectfully urge you to call for a comprehensive review of DOGE’s management practices and to advocate for reforms that restore order, accountability, and continuity in government services.
      </p>
      <p>
        Thank you for your attention to this urgent matter. I look forward to your response regarding the steps you plan to take.
      </p>
      `;
      
      // Build each letter template with a header, the common letter body, and a signature.
      const letterScotPerry = `
      <div class="letter" id="scot-perry">
        <h2>Letter – To U.S. House, Rep. Scot Perry (District 10)</h2>
        <p>
          ${name}<br>
          ${fullAddress}<br>
          ${email}<br>
          ${phone}
        </p>
        <p>${date}</p>
        <p>
          The Honorable Scot Perry<br>
          4999 Louise Drive, Suite 205<br>
          Mechanicsburg, PA 17055<br>
          Phone: 717-550-6565
        </p>
        <p><strong>Subject: Concern Over Chaotic Management of DOGE (Department of Government Efficiency)</strong></p>
        <p>Dear Representative Perry,</p>
        ${commonLetterBody}
        <p>Sincerely,<br>${name}</p>
      </div>
      `;

      const letterDawnKeefer = `
      <div class="letter" id="dawn-keefer">
        <h2>Letter – To Senator Dawn Keefer</h2>
        <p>
          ${name}<br>
          ${fullAddress}<br>
          ${email}<br>
          ${phone}
        </p>
        <p>${date}</p>
        <p>
          <strong>Option 1 – Official Senate Address:</strong><br>
          Senator Dawn Keefer<br>
          Senate Box 203031<br>
          Harrisburg, PA 17120-3031<br>
          Room: 168 Main Capitol<br>
          Phone: (717) 787-8524<br>
          FAX: (717) 782-2920<br><br>
          <strong>Option 2 – Dillsburg Office Address:</strong><br>
          Senator Dawn Keefer<br>
          12 North Baltimore Street<br>
          Dillsburg, PA 17019<br>
          Phone: (717) 432-1730<br>
          FAX: (717) 432-1733
        </p>
        <p><strong>Subject: Request for Oversight on the Chaotic Implementation of DOGE (Department of Government Efficiency)</strong></p>
        <p>Dear Senator Keefer,</p>
        ${commonLetterBody}
        <p>Sincerely,<br>${name}</p>
      </div>
      `;

      const letterMarcAnderson = `
      <div class="letter" id="marc-anderson">
        <h2>Letter – To Hon. Marc S. Anderson</h2>
        <p>
          ${name}<br>
          ${fullAddress}<br>
          ${email}<br>
          ${phone}
        </p>
        <p>${date}</p>
        <p>
          <strong>Option 1 – Dillsburg Office Address:</strong><br>
          Hon. Marc S. Anderson<br>
          1 East Harrisburg Street<br>
          Dillsburg, PA 17019<br>
          Phone: (717) 432-0792<br>
          Toll Free: (833) 933-2965<br>
          Fax: (717) 432-0795<br><br>
          <strong>Option 2 – Capitol Address:</strong><br>
          Hon. Marc S. Anderson<br>
          428 Irvis Office Building<br>
          P.O. Box 202092<br>
          Harrisburg, PA 17120-2092<br>
          Phone: (717) 783-8783<br>
          Fax: (717) 782-2920
        </p>
        <p><strong>Subject: Concern Over the Chaotic Operation of DOGE (Department of Government Efficiency)</strong></p>
        <p>Dear Representative Anderson,</p>
        ${commonLetterBody}
        <p>Sincerely,<br>${name}</p>
      </div>
      `;

      const letterJohnFetterman = `
      <div class="letter" id="john-fetterman">
        <h2>Letter – To U.S. Senate, Sen. John Fetterman</h2>
        <p>
          ${name}<br>
          ${fullAddress}<br>
          ${email}<br>
          ${phone}
        </p>
        <p>${date}</p>
        <p>
          Senator John Fetterman<br>
          142 Russell Senate Office Building<br>
          Washington, DC 20510<br>
          Phone: (202) 224-4254
        </p>
        <p><strong>Subject: Request for Enhanced Oversight on the Chaotic Management of DOGE (Department of Government Efficiency)</strong></p>
        <p>Dear Senator Fetterman,</p>
        ${commonLetterBody}
        <p>Sincerely,<br>${name}</p>
      </div>
      `;

      const letterDavidMcCormick = `
      <div class="letter" id="david-mccormick">
        <h2>Letter – To U.S. Senate, Sen. David McCormick</h2>
        <p>
          ${name}<br>
          ${fullAddress}<br>
          ${email}<br>
          ${phone}
        </p>
        <p>${date}</p>
        <p>
          Senator David McCormick<br>
          B40C Dirksen Senate Office Building<br>
          Washington, DC 20510
        </p>
        <p><strong>Subject: Concern Over the Chaotic Management of DOGE (Department of Government Efficiency)</strong></p>
        <p>Dear Senator McCormick,</p>
        ${commonLetterBody}
        <p>Sincerely,<br>${name}</p>
      </div>
      `;

      // Combine all letters into one container.
      const allLetters = letterScotPerry + letterDawnKeefer + letterMarcAnderson + letterJohnFetterman + letterDavidMcCormick;
      document.getElementById('lettersContainer').innerHTML = allLetters;
    }
  </script>

</body>
</html>